<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <!--
        VGG Image Annotator (via)
        www.robots.ox.ac.uk/~vgg/software/via/

        Copyright (c) 2016, Abhishek Dutta, Visual Geometry Group, Oxford University.
        All rights reserved.

        Redistribution and use in source and binary forms, with or without
        modification, are permitted provided that the following conditions are met:

        Redistributions of source code must retain the above copyright notice, this
        list of conditions and the following disclaimer.
        Redistributions in binary form must reproduce the above copyright notice,
        this list of conditions and the following disclaimer in the documentation
        and/or other materials provided with the distribution.
        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
        AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
        IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
        ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
        LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
        CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
        SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
        INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
        CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
        ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
        POSSIBILITY OF SUCH DAMAGE.

      -->
    <title>VGG Image Annotator</title>
    <meta name="author" content="Abhishek Dutta">
    <meta name="description" content="VIA is a standalone image annotator application packaged as a single HTML file (< 200 KB) that runs on most modern web browsers.">

    <!--
    Development of VIA is supported by the EPSRC programme grant
    Seebibyte: Visual Search for the Era of Big Data (EP/M013774/1).
    Using Google Analytics, we record the usage of this application.
    This data is used in reporting of this programme grant.
    -->
    <script type="text/javascript">
      //<!--AUTO_INSERT_GOOGLE_ANALYTICS_JS_HERE-->
    </script>

    <!-- CSS style definition -->
    <style type="text/css">
      body {
      min-width: 800px;
      padding: 0;
      margin: 0;
      font-family: sans-serif;
      }
      * { box-sizing: border-box; }

      /* Top panel : #navbar, #toolbar */
      .top_panel { font-size:small; position:fixed; top:0; left:0; right:0; display:block; background-color:#212121; color:#ffffff; z-index:1001; width:100%;}

      /* Navigation menu bar that appear at the top */
      .menubar { display:inline-block; height:1.6rem; } /* height needed to avoid extra bottom border */
      .menubar a:link { color:#eeeeee; text-decoration:none; }
      .menubar a:visited { color:#eeeeee; text-decoration:none; }
      .menubar ul { display:block; padding:0; margin:0; }
      .menubar li { display:inline; float:left; padding:0.4rem 1rem;}
      .menubar li:hover { background-color:#616161; cursor:default; }

      .menubar li ul { display:none; background-color:#212121; border:1px solid #616161; min-width:10rem; position:absolute; z-index:100; margin:0.4rem -1rem;}
      .menubar li ul li { display:block; float:none; color:#eeeeee; margin:0; padding:0.6rem 1rem; }
      .menubar li ul li:hover { cursor:pointer; }
      .menubar li ul li.submenu_divider { margin:0 0.4rem; padding:0; height:1px; border-bottom:1px solid #424242; }
      .menubar li:hover ul { display:block; }

      /* toolbar containing small icons for tools */
      .toolbar { display:inline-block; margin-left:1rem;}
      .toolbar ul { display:inline-block; padding:0.2rem; margin:0; }
      .toolbar li { display:inline; float:left; padding:0rem 0.3rem;} /* main menu items */
      .toolbar li:hover { color:red; cursor:pointer; }

      #fileinfo {
      font-size: small;
      padding: 1.2em 0.8em;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      }

      /* Middle panel: containing #image_panel, #leftsidebar */
      .middle_panel {
      position: relative;
      display: table;
      table-layout: fixed;
      width: 100%;
      z-index: 1;
      padding: 0;
      top: 3.5em;
      /*padding-top: 1.0125em;  ensures the mouse event (x,y) coordinates are integer */
      }
      #leftsidebar {
      display: table-cell;
      width: 250px;
      z-index: 10;
      vertical-align: top;
      }
      #display_area {
      display: table-cell;
      width: 100%;
      z-index: 1;
      margin: 0;
      padding-left: 1em;
      vertical-align: top;
      }
      #canvas_panel {
      position: relative;
      margin: 0;
      padding: 0;
      }
      #canvas_panel canvas:focus {
      outline: none;
      }

      #leftsidebar_collapse_panel { display:table-cell; position:relative; width:0.5%; z-index:10; vertical-align:top; }
      #leftsidebar_collapse_button { font-size: large; padding-left:0.2rem; }
      #leftsidebar_collapse_button:hover { color: red; cursor: pointer; }

      /* Left sidebar accordion */
      button.leftsidebar_accordion {
      font-size: large;
      background-color: #f2f2f2;
      cursor: pointer;
      padding: 0.5em 0.5em;
      width: 100%;
      text-align: left;
      border: 0;
      outline: none;
      }
      button.leftsidebar_accordion:focus {
      outline: none;
      }
      button.leftsidebar_accordion.active, button.leftsidebar_accordion:hover {
      background-color: #e6e6e6;
      }
      button.leftsidebar_accordion:after {
      content: '\02795';
      color: #4d4d4d;
      float: right;
      }
      button.leftsidebar_accordion.active:after { content: '\2796'; }
      .leftsidebar_accordion_panel {
      display: none;
      padding: 0 0.5em;
      font-size: small;
      border-right: 2px solid #f2f2f2;
      border-bottom: 2px solid #f2f2f2;
      }
      .leftsidebar_accordion_panel.show { display: block; }

      /* buttons */
      .button_panel { display:table; width:100%; }
      .button_panel .text_button, .text_button { color: #0000ff; padding: 0.2rem 0.2rem;}
      .button_panel .flush_right { float:right; }
      .button_panel .text_button:hover, .text_button:hover { cursor:pointer; }
      .button_panel .text_button:active, .text_button:active { color: #000000; }
      .button_panel .active { border-bottom:1px solid black; }
      .button_panel .button { padding:0.35rem 0.5rem; cursor:pointer; background-color:#cccccc; border-radius:0.2rem;}
      .button_panel .button:hover { background-color:black; color:white}

      /* Attributes properties: name, description, type, ... */
      #attribute_properties { display:table; width:100%; border-collapse:collapse; margin:1rem 0; border:1px solid #cccccc; }
      #attribute_properties .property { display:table-row;}
      #attribute_properties .property span { display:table-cell; padding: 0.2rem 0.4rem; }
      #attribute_properties .property span input { width: 100%; border:1px solid #cccccc; margin: 0;}
      #attribute_properties .property span input:focus { border:1px solid black; }
      #attribute_properties .property span select { width: 100%; border:1px solid #cccccc; margin: 0;}

      /* Attributes options: options for attribute type={checkbox,radio,...} */
      #attribute_options { display:table; width:100%; border-collapse:collapse; margin:1rem 0; border:1px solid #cccccc; table-layout:fixed; }
      #attribute_options .property { display:table-row;}
      #attribute_options .property span { display:table-cell; padding: 0.2rem 0.2rem; font-weight:bold; }
      #attribute_options .property input { display:table-cell; width:94%; border:none; border-bottom:1px solid #cccccc; margin: 0; font-size: 0.8rem;}
      #attribute_options .property input:focus { border-bottom:1px solid #000000; background-color:#f2f2f2; color:#000000; }
      #attribute_options .property span input[type=checkbox] { vertical-align:middle; }
      #attribute_options .property span input[type=radio] { vertical-align:middle; }

      /* overlay panel used to gather user inputs before invoking a function using invoke_with_user_inputs() */
      #user_input_panel { position:fixed; display:none; width:100%; height:100%; top:0; left:0; right:0; bottom:0; background-color: rgba(0,0,0,0.6); z-index:100; }
      #user_input_panel .content { position:fixed; background-color:white; top:50%; left:50%; transform:translate(-50%,-50%);  -webkit-transform: translate(-50%, -50%); -moz-transform: translate(-50%, -50%);  -o-transform: translate(-50%, -50%); -ms-transform: translate(-50%, -50%); padding:2rem 4rem;}
      #user_input_panel .content .title { font-size:large; font-weight:bold; }
      #user_input_panel .content .user_inputs { display:table; width:100%; border-collapse:collapse;}
      #user_input_panel .content .user_inputs .row { display:table-row; }
      #user_input_panel .content .user_inputs .cell { display:table-cell; padding:1rem 0.5rem; vertical-align:middle; border:1px solid #f2f2f2; }
      #user_input_panel .content .user_confirm { display:table; width:100%; text-align:center; margin:2rem 0;}
      #user_input_panel .content .user_confirm .ok { display:table-cell; width:48%; }
      #user_input_panel .content .user_confirm .cancel { display:table-cell; width:48%; }
      #user_input_panel .content .warning { color:red; }

      /* Attribute editor */
      .display_none { display:none; }
      .display_block { display:block !important; }
      #annotation_editor_panel { position:fixed; display:none; width:100%; height:20%; max-height:30%; left:0; bottom:0; background-color:white; border-top:2px solid #cccccc; padding:0.2rem 1rem; font-size:small; overflow:auto; z-index:1001; box-shadow: 0 0 1rem #cccccc;}
      #annotation_editor { display:table; margin-bottom:3rem; border-collapse:collapse; font-size:0.8rem; }
      #annotation_editor .row { display:table-row; }
      #annotation_editor .highlight .col { background-color:#f2f2f2;}

      #annotation_editor .col { display:table-cell; padding:0.4rem 0.6rem; border:1px solid #000000; vertical-align:middle; }
      #annotation_editor .header { font-weight:bold; }
      #annotation_editor .id { font-weight:bold; }
      #annotation_editor .col input[type=text] { font-size:0.8rem; width:10rem; border:none; border-bottom:1px solid #cccccc; margin: 0;}
      #annotation_editor .col input[type=checkbox] { vertical-align:middle; font-size:0.8rem; }
      #annotation_editor .col label { vertical-align:middle; }
      #annotation_editor .col input[type=radio] { vertical-align:middle; }
      #annotation_editor .col textarea { border:1px solid #cccccc; padding:0; margin:0; font-size:0.8rem; background-color:#ffffff; }
      #annotation_editor .col textarea:focus { border:1px dashed #cccccc; }
      #annotation_editor .col span { display:block; }
      #annotation_editor .col horizontal_container { display:inline-block; }

      /* Region shape selection panel inside leftsidebar */
      ul.region_shape { font-size:xx-large; list-style-type:none; overflow:hidden; padding:0.4em 0; margin:0; }
      ul.region_shape li { float:left; padding:0 0.2em; fill:#ffffff; stroke:#000000; }
      ul.region_shape li:hover { cursor:pointer; fill:#ffffff; stroke:#ff0000; }
      ul.region_shape .selected { fill:#ffffff; stroke:#ff0000; }

      /* Loaded image list shown in leftsidebar panel */
      #img_fn_list { font-size:small; overflow:scroll; min-height:10rem; max-height:30rem; }
      #img_fn_list_panel input { width:88%; border:1px solid #ccc; margin:0.6rem 0; padding:0.2rem 0.4rem; }
      #img_fn_list ul { position:relative; line-height:1.3em; margin:0; padding:0; list-style-type:none; }
      #img_fn_list li { white-space:nowrap; }
      #img_fn_list li:hover { background-color:#cccccc; color:#000000; cursor:pointer; }

      #message_panel { display:block; width:100%; position:fixed; bottom:0px; z-index:1000; text-align:center; }
      #message_panel_content { display:inline; margin:auto; background-color:#000000; color:#ffff00; font-size:small; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; line-height:2rem; padding: 0.5rem 2rem;}

      #invisible_file_input { width:0.1px; height:0.1px; opacity:0; overflow:hidden; position:absolute; z-index:-1; }

      .text_panel {
      display: none;
      margin: auto;
      font-size: medium;
      line-height: 1.3em;
      margin: 0;
      max-width: 700px;
      }
      .text_panel li {
      margin: 1em 0;
      text-align: left;
      }
      .text_panel p {
      text-align: left;
      }

      .svg_button:hover {
      cursor: pointer;
      }

      /* layers of canvas */
      #image_panel { position:relative; display:inline-block; margin:auto; margin-top:1em; }
      #image_canvas { position:absolute; top:0px; left:0px; z-index:1; }
      #region_canvas { position:absolute; top:0px; left:0px;z-index:2; }
      /* Loading spinbar */
      .loading_spinbox { display:inline-block; border:0.4em solid #cccccc; border-radius:50%; border-top:0.4em solid #000000; -webkit-animation:spin 2s linear infinite; animation:spin 2s linear infinite; }
      @-webkit-keyframes spin { 0% { -webkit-transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); } }
      @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
  </head>

  <body onload="_via_init()" onresize="_via_update_ui_components()">
    <!-- used by invoke_with_user_inputs() to gather user inputs -->
    <div id="user_input_panel"></div>
    <!-- spreadsheet like editor for annotations -->
    <div id="annotation_editor_panel">
      <div class="button_panel" style="margin:0.5rem 0;">
        <span class="text_button" onclick="edit_region_metadata_in_annotation_editor()" id="button_edit_region_metadata" title="Manual annotations of regions">Region Annotations</span>
        <span class="text_button" onclick="edit_file_metadata_in_annotation_editor()" id="button_edit_file_metadata" title="Manual annotations of a file">File Annotations</span>
        <span class="button" style="float:right;margin-right:0.2rem;" onclick="toggle_annotation_editor()" id="button_edit_file_metadata" title="Close this window of annotation editor">&times;</span>
      </div>
      <div id="annotation_editor"></div>
    </div>

    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <symbol id="shape_rectangle">
          <title>Rectangular region shape</title>
          <rect width="20" height="12" x="6" y="10" stroke-width="2"/>
        </symbol>
        <symbol id="shape_circle">
          <title>Circular region shape</title>
          <circle r="10" cx="16" cy="16" stroke-width="2"/>
        </symbol>
        <symbol id="shape_ellipse">
          <title>Elliptical region shape</title>
          <ellipse rx="12" ry="8" cx="16" cy="16" stroke-width="2"/>
        </symbol>
        <symbol id="shape_polygon">
          <title>Polygon region shape</title>
          <path d="M 15.25,2.2372 3.625,11.6122 6,29.9872 l 20.75,-9.625 2.375,-14.75 z" stroke-width="2"/>
        </symbol>
        <symbol id="shape_point">
          <title>Point region shape</title>
          <circle r="3" cx="16" cy="16" stroke-width="2"/>
        </symbol>
        <symbol id="shape_polyline">
          <title>Polyline region shape</title>
          <path d="M 2,12 10,24 18,12 24,18" stroke-width="2"/>
          <circle r="1" cx="2" cy="12" stroke-width="2"/>
          <circle r="1" cx="10" cy="24" stroke-width="2"/>
          <circle r="1" cx="18" cy="12" stroke-width="2"/>
          <circle r="1" cx="24" cy="18" stroke-width="2"/>
        </symbol>
      </defs>
    </svg>

    <div class="top_panel" id="ui_top_panel">
      <!-- menu bar -->
      <div class="menubar">
        <ul>
          <li onclick="show_home_panel()" style="cursor:pointer;">Home</li>
          <li>Project
            <ul>
              <li onclick="" title="Load a VIA project (from a JSON file)">Load</li>
              <li onclick="save_project_with_confirm()" title="Save this VIA project (as a JSON file)">Save</li>
              <li class="submenu_divider"></li>
              <li onclick="sel_local_images()" title="Add images locally stored in this computer">Add local files</li>
              <li onclick="" title="Add images from a web URL (e.g. http://www.robots.ox.ac.uk/~vgg/software/via/images/swan.jpg)">Add files from URL</li>
              <li onclick="" title="Add images from a list of web url stored in a text file (one url per line)">Add files from text file</li>
              <li class="submenu_divider"></li>
              <li onclick="" title="Import region and file attributes from a JSON file">Import region/file attributes</li>
              <li onclick="" title="Export region and file attributes to a JSON file">Export region/file attributes</li>
            </ul>
          </li>

          <li>Annotation
            <ul>
              <li onclick="download_all_region_data('csv')" title="Export annotations to a CSV file">Export Annotations (as csv)</li>
              <li onclick="download_all_region_data('json')" title="Export annotaitons to a JSON file">Export Annotations (as json)</li>
              <li onclick="" class="submenu_divider"></li>
              <li onclick="sel_local_data_file('annotations')" title="Import annotations from a CSV file">Import Annotations (from csv)</li>
              <li onclick="sel_local_data_file('annotations')" title="Import annotations from a JSON file">Import Annotations (from json)</li>
              <li class="submenu_divider"></li>
              <li onclick="show_annotation_data()" title="Show a preview of annotations (opens in a new browser windows)">Preview Annotations (new window)</li>
            </ul>
          </li>

          <li>View
            <ul>
              <li onclick="toggle_leftsidebar()" title="Show or hide the sidebar shown in left hand side">Toggle left sidebar</li>
              <li onclick="" title="Show or hide a panel to update annotations corresponding to file and region">Toggle annotation editor</li>
              <li onclick="toggle_img_fn_list_visibility()" title="Show or hide a panel to update annotations corresponding to file and region">Toggle loaded files list</li>
              <li class="submenu_divider"></li>
              <li onclick="toggle_region_boundary_visibility()" title="Show or hide the region boundaries">Show/hide region boundaries</li>
              <li onclick="toggle_region_id_visibility()" title="Show or hide the region id labels">Show/hide region labels</li>
            </ul>
          </li>

          <li>Help
            <ul>
              <li onclick="show_getting_started_panel()" title="Shows a guide for using this application">Getting Started</li>
              <li title="Visit the project page for this application"><a href="https://gitlab.com/vgg/via" target="_blank">Project Page</a></li>
              <li onclick="" title="Report an issue to the developers of this application (requires an account at gitlab.com)"><a href="https://gitlab.com/vgg/via/issues" target="_blank">Report issues</a></li>
              <li class="submenu_divider"></li>
              <li onclick="show_license_panel()" title="View license of this application">License</li>
              <li onclick="show_about_panel()" title="Show more details about this application">About VIA</li>
            </ul>
          </li>
        </ul>
      </div> <!-- end of menubar -->

      <!-- Shortcut toolbar -->
      <div class="toolbar">
        <ul>
          <li id="toolbar_save_project" style="margin-left: 2em;" onclick="save_project_with_confirm()" title="Save Project">s</li>
          <li id="toolbar_load_project" onclick="" title="Open Project">o</li>

          <li id="toolbar_prev_img" style="margin-left: 2em;" onclick="move_to_prev_image()" title="Previous Image">&larr;</li>
          <li id="toolbar_next_img" onclick="move_to_next_image()" title="Next Image">&rarr;</li>
          <li id="toolbar_list_img" onclick="show_leftsidebar(); toggle_img_fn_list_visibility();" title="List Images">&#9776;</li>

          <li id="toolbar_zoom_out" style="margin-left: 2em;" onclick="zoom_out()" title="Zoom Out">&minus;</li>
          <li id="toolbar_zoom_in" onclick="zoom_in()" title="Zoom In">&plus;</li>
          <li id="toolbar_zoom_reset" onclick="reset_zoom_level()" title="Zoom Reset">&equals;</li>

          <li id="toolbar_copy_region" style="margin-left: 2em;" onclick="copy_sel_regions()" title="Copy Region">c</li>
          <li id="toolbar_paste_region" onclick="paste_sel_regions()" title="Paste Region">v</li>
          <li id="toolbar_sel_all_region" onclick="sel_all_regions()" title="Select All Regions">a</li>
          <li id="toolbar_del_region" onclick="del_sel_regions()" title="Delete Region">&times;</li>
        </ul>
      </div>
<!-- end of shortcut toolbar -->

      <input type="file" id="invisible_file_input" multiple name="files[]" style="display:none">
    </div> <!-- endof #top_panel -->

    <!-- Middle Panel contains a left-sidebar and image display areas -->
    <div class="middle_panel">
      <div id="leftsidebar">
        <button class="leftsidebar_accordion active">Region Shape</button>
        <div class="leftsidebar_accordion_panel show">
          <ul class="region_shape">
            <li id="region_shape_rect" class="selected" onclick="select_region_shape('rect')" title="Rectangle"><svg height="32" viewbox="0 0 32 32"><use xlink:href="#shape_rectangle"></use></svg></li>
            <li id="region_shape_circle" onclick="select_region_shape('circle')" title="Circle"><svg height="32" viewbox="0 0 32 32"><use xlink:href="#shape_circle"></use></svg></li>
            <li id="region_shape_ellipse" onclick="select_region_shape('ellipse')" title="Ellipse"><svg height="32" viewbox="0 0 32 32"><use xlink:href="#shape_ellipse"></use></svg></li>
            <li id="region_shape_polygon" onclick="select_region_shape('polygon')" title="Polygon"><svg height="32" viewbox="0 0 32 32"><use xlink:href="#shape_polygon"></use></svg></li>
            <li id="region_shape_point" onclick="select_region_shape('point')" title="Point"><svg height="32" viewbox="0 0 32 32"><use xlink:href="#shape_point"></use></svg></li>
            <li id="region_shape_polyline" onclick="select_region_shape('polyline')" title="Polyline"><svg height="32" viewbox="0 0 32 32"><use xlink:href="#shape_polyline"></use></svg></li>
          </ul>
        </div>

        <button class="leftsidebar_accordion" id="loaded_img_panel_title">Loaded Images</button>
        <div class="leftsidebar_accordion_panel" id="img_fn_list_panel">
          <div>
            <input type="text" placeholder="Filter using regular expression" oninput="img_fn_list_onregex()" id="img_fn_list_regex">
          </div>
          <div id="img_fn_list"></div>
        </div>

        <button class="leftsidebar_accordion active" id="attr">Attributes</button>
        <div class="leftsidebar_accordion_panel show" id="attributes_editor_panel">
          <div class="button_panel" style="padding:1rem 0;">
            <span class="text_button" onclick="show_region_attributes_update_panel()" id="button_show_region_attributes" title="Show region attributes">Region Attributes</span>
            <span class="text_button" onclick="show_file_attributes_update_panel()" id="button_show_file_attributes" title="Show file attributes">File Attributes</span>
          </div>
          <div id="attributes_update_panel">
            <div class="button_panel">
              <input style="width:65%" type="text" placeholder="attribute name" id="user_input_attribute_id" value="">
              <span class="button" onclick="add_new_attribute_from_user_input()" title="Add new attribute">&plus;</span>
              <span class="button" onclick="delete_existing_attribute_with_confirm()" title="Delete existing attribute">&minus;</span>
            </div>
            <div class="button_panel" style="margin:0.1rem 0;" >
              <select style="width:100%" id="attributes_name_list" onchange="update_attribute_properties_panel()" title="List of existing attributes"></select>
            </div>
            <div id="attribute_properties"></div>
            <div id="attribute_options"></div>
            <p style="text-align:center">
              <span class="text_button" title="Show a spreadsheet like editor for all manual annotations" onclick="toggle_annotation_editor()">Annotation Editor</span>|
              <span class="text_button" title="Show a spreadsheet like editor for all manual annotations" onclick="toggle_annotation_editor()">Save Project</span>
            </p>

            <!--
            <ul>
              <li>to delete an option, delete corresponding "option id"</li>
              <li>to add a new option, click "Add new id"</li>
              <li>"option description" is optional</li>
            </ul>
            -->
          </div>
        </div>

        <button class="leftsidebar_accordion">Keyboard Shortcuts</button>
        <div class="leftsidebar_accordion_panel">
          <table style="padding: 2em 0em;">
            <tr>
              <td style="width: 6em;">n/p (&larr;/&rarr;)</td>
              <td>Next/Previous image</td>
            </tr>
            <tr>
              <td>+&nbsp;/&nbsp;-&nbsp;/&nbsp;=</td>
              <td>Zoom in/out/reset</td>
            </tr>
            <tr>
              <td>Ctrl + c</td>
              <td>Copy sel. regions</td>
            </tr>
            <tr>
              <td>Ctrl + v</td>
              <td>Paste sel. regions</td>
            </tr>
            <tr>
              <td>Ctrl + a</td>
              <td>Select all regions</td>
            </tr>
            <tr>
              <td>Del, Bkspc</td>
              <td>Delete image region</td>
            </tr>
            <tr>
              <td>Esc</td>
              <td>Cancel operation</td>
            </tr>
            <tr>
              <td>Ctrl + s</td>
              <td>Download annotations</td>
            </tr>
            <tr>
              <td>Spacebar</td>
              <td>Toggle image list</td>
            </tr>
          </table>
        </div>

      </div> <!-- end of leftsidebar -->
      <div id="leftsidebar_collapse_panel">
        <div onclick="toggle_leftsidebar()" id="leftsidebar_collapse_button" title="Show/hide left toolbar">&ltrif;</div>
      </div>

      <!-- Main display area: contains image canvas, ... -->
      <div id="display_area">
        <div id="canvas_panel">
          <canvas id="image_canvas"></canvas>
          <canvas id="region_canvas" tabindex="1">Sorry, your browser does not support HTML5 Canvas functionality which is required for this application.</canvas>
        </div>

        <div>
          <div class="text_panel" id="via_start_info_panel">Starting VGG Image Annotator ...</div>

          <div class="text_panel" style="padding: 1em; border: 1px solid #cccccc;" id="about_panel">
            <p style="font-size: 2em;">VGG Image Annotator</p>
            <p style="font-size: 0.8em;">version <a href="https://gitlab.com/vgg/via/blob/master/CHANGELOG">1.1.0</a></p>
            <p>
              VGG Image Annotator (VIA) is an <a href="https://gitlab.com/vgg/via/">open source project</a>
              developed at the <a href="http://www.robots.ox.ac.uk/~vgg/">Visual Geometry Group</a>
              and released under the BSD-2 clause <a href="https://gitlab.com/vgg/via/blob/master/LICENSE">license</a>.
              With this standalone application, you can define regions in an image and create a textual description of those regions.
              Such image regions and descriptions are useful for supervised training of learning algorithms.
            </p>
            <p>Features:</p>
            <ul>
              <li>based solely on HTML, CSS and Javascript (no external javascript libraries)</li>
              <li>can be used off-line (full application in a single html file of size &lt; 200KB)</li>
              <li>requires nothing more than a modern web browser</li>
              <li>supported region shapes: rectangle, circle, ellipse, polygon and point</li>
              <li>import/export of region data in csv and json file format</li>
            </ul>
            <p>For more details, visit <a href="http://www.robots.ox.ac.uk/~vgg/software/via/">http://www.robots.ox.ac.uk/~vgg/software/via/</a>.</p>
            <p>&nbsp;</p>
            <p>Copyright &copy; 2016-2018, <a href="mailto:adutta@robots.ox.ac.uk">Abhishek Dutta</a> (Visual Geometry Group, Oxford University)</p>
          </div>

          <div class="text_panel" id="getting_started_panel">
            <h1>Getting Started</h1>
            <ol>
              <li>Click [Image > Load or Add Images] in the top menu bar to load a set of images that you wish to annotate.</li>
              <li>Press n (or p) to navigate through the loaded images. You can also use the &larr; and &rarr; icons in the top panel toolbar for navigation.</li>
              <li>Click <b>Region Attributes</b> in the left panel to reveal a panel in the bottom. Click <b>[Add New]</b> tp add a new attribute. For example:
                <pre>
                  object_name
                  object_color
                </pre>
                You can add more region attributes according to you needs.
              <li>In the <b>Region Shape</b> section in the left panel, click the rectangular shape</li>
              <li>On the image area, keep pressing the right click button as you drag the mouse cursor. This will draw a rectangular region on the image.</li>
              <li>This newly created region is automatically selected. Now you can enter the attribute value for this region in the bottom panel. For example:
                <pre>
                  object_name = dog
                  object_color = white
                </pre>
                You can annotate multiple regions in this image or other images and assign a value to each pre-defined attribute.</li>
              <li>To download the annotated region data, click <b>[Annotation > Save as CSV]</b> in the top menu bar. This will download a text file containing region shape and attribute data.</li>
              <li>Next time, you can start from the point your left by first loading the images and then importing the CSV file (downloaded in step 7) by clicking <b>[Annotation > Import]</b>.
            </li></ol>
          </div>

          <div class="text_panel" id="license_panel">
            <pre>
              Copyright (c) 2016-2017, Abhishek Dutta, Visual Geometry Group, Oxford University.
              All rights reserved.

              Redistribution and use in source and binary forms, with or without
              modification, are permitted provided that the following conditions are met:

              Redistributions of source code must retain the above copyright notice, this
              list of conditions and the following disclaimer.
              Redistributions in binary form must reproduce the above copyright notice,
              this list of conditions and the following disclaimer in the documentation
              and/or other materials provided with the distribution.
              THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
              AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
              IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
              ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
              LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
              CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
              SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
              INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
              CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
              ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
              POSSIBILITY OF SUCH DAMAGE.
            </pre>
          </div>

        </div>
      </div>
    </div>

    <!-- to show status messages -->
    <div id="message_panel">
      <div id="message_panel_content"></div>
    </div>

    <!-- this vertical spacer is needed to allow scrollbar to show
         items like Keyboard Shortcut hidden under the attributes panel -->
    <div style="width: 100%;" id="vertical_space"></div>

    <script type="text/javascript">
      //<!--AUTO_INSERT_VIA_DEMO_JS_HERE-->
    </script>
    <script type="text/javascript">
      //<!--AUTO_INSERT_VIA_JS_HERE-->
    </script>
    <script type="text/javascript">
      //<!--AUTO_INSERT_VIA_TEST_JS_HERE-->
    </script>

    <!--    -->
    <script src="via.js"></script>

    <!---->
    <script src="via_demo.js"></script>

    <!-- Unit Tests    -->
    <!--
    <script src="./tests/via_test_data.js"></script>
    <script src="./tests/via_test.js"></script>
    <script src="./tests/via_test_fileio.js"></script>
    <script src="./tests/via_test_region.js"></script>
     -->
  </body>
</html>
